---
alwaysApply: true
---

Follow these coding standards:

- Only modify the prisma schema. Always generate migrations via CLI. Never manually generate a migration.
- Always use `console.log` for debugging. When creating large code chunks add a couple console.log calls to help determine control flow and how thing run.
  - DO NOT WRAP CONSOLE.LOG IN TRY/CATCH BLOCKS.
- Preview creating event handlers as `const handlerName = () => { ... }` and then using `onClick={handlerName}` in the component. Avoid inline event handlers unless they are very simple.
- Avoid `typeof import('...')` imports. Instead use `import {type ...} from '...'`.
- Avoid `any` types. Instead use more specific types when possible. If any must be used , add a comment in the output code explaining why.
- Imports should occur at the top of the file. Avoid lazy or deferred imports.
- Prefer early returns over nested if statements.
- Prefer named exports over default exports.
- When pairing an onCleanup with an onMount, always place the onCleanup in the onMount block. Do not create a separate onCleanup block.
- Always import types and other things at the top of the file. Do not import them inline.
- If a resource is involved (from `createResource`), always use a Suspense fallback. Avoid using a Show component. Prefer Suspense over Show for resources.
- Prefere creating a store over a large stack of signals. For one off, signal is OK. For more than 1 related piece of state, create a store.
- When creating SVG icons directly, put them into their own comp with a decent name.
- Always prefer `Show` over `&&` for conditional rendering. If narrowing out `undefined` values, use `Show` with functional render to make use of the narrowed type: `<Show when={value()}>{narrowedValue=>(...)}</Show>`
- Do not add `as any` type casts due to linter errors. Mark them with a comment as `TODO:AS_ANY, <reason>`. I likely need to restart the IDE to make things work correctly.
- When creating types, try as hard as possible to type based on an existing object or data structure or return. Do not create types that simply mirror existing ones. If a linter error is preventing this, add a comment as `TODO:TYPE_MIRROR, <reason>` and let me deal with it.
- Avoid creating IIFEs for Solid Comps. Just create new components and pass props like normal. IFFEs should be avoided. Render funcs are OK, but IIFEs should be avoided.
- Avoid wrapping things in try/catch unless it's very common or I explicitly ask for it. For example, calling a method in a prop does not need to be wrapped in try/catch. Async/await fetch stuff can be wrapped in try/catch if needed.

Comments on thinking and planning:

- When designing new comps, think through some edge cases and handle them if simple. If the code will be complicated, add a `TODO:EDGE_CASE` comment.
