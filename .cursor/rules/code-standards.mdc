---
alwaysApply: true
---

Follow these coding standards:

- Only modify the prisma schema. Always generate migrations via CLI. Never manually generate a migration.
- Always use `console.log` for debugging. When creating large code chunks add a couple console.log calls to help determine control flow and how thing run.
  - DO NOT WRAP CONSOLE.LOG IN TRY/CATCH BLOCKS.
- Preview creating event handlers as `const handlerName = () => { ... }` and then using `onClick={handlerName}` in the component. Avoid inline event handlers unless they are very simple.
- Avoid `typeof import('...')` imports. Instead use `import {type ...} from '...'`.
- Avoid `any` types. Instead use more specific types when possible. If any must be used , add a comment in the output code explaining why.
- Imports should occur at the top of the file. Avoid lazy or deferred imports.
- Prefer early returns over nested if statements.
- Prefer named exports over default exports.
- When pairing an onCleanup with an onMount, always place the onCleanup in the onMount block. Do not create a separate onCleanup block.
- Always import types and other things at the top of the file. Do not import them inline.
- If a resource is involved (from `createResource`), always use a Suspense fallback. Avoid using a Show component. Prefer Suspense over Show for resources.
- Prefere creating a store over a large stack of signals. For one off, signal is OK. For more than 1 related piece of state, create a store.
- When creating SVG icons directly, put them into their own comp with a decent name.

Comments on thinking and planning:

- When designing new comps, think through some edge cases and handle them if simple. If the code will be complicated, add a `TODO:EDGE_CASE` comment.
